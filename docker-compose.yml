services:
  api:
    build:
      context: .
      dockerfile: Dockerfile
    image: familyzen-api:latest
    container_name: familyzen-api
    environment:
      PORT: "8000"
      NODE_ENV: "production"
    ports:
      - "8000:8000"
        restart: unless-stopped

    # Laisse le healthcheck comment√© si l'image n'a pas wget/curl
    # healthcheck:
    #   test: ["CMD-SHELL", "wget -q --spider http://localhost:8000/health || exit 1"]
    #   interval: 10s
    #   timeout: 5s
    #   retries: 12
    #   start_period: 20s
